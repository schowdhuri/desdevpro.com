<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.19.45"/><title data-react-helmet="true">Parallelize Webpack Builds | Subir Chowdhuri | Desdevpro</title><meta data-react-helmet="true" name="description" content="Speed up your webpack builds by buildings chunks concurrently"/><meta data-react-helmet="true" name="keywords" content="webpack, javascript"/><meta data-react-helmet="true" name="author" content="Subir Chowdhuri"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><style data-styled="" data-styled-version="5.0.1">.hqRkdT{background-color:#606060;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-image:url(/static/def9fb740de57fbc741e89fb175ca1c7/webpack.jpg);background-position:center;background-repeat:no-repeat;background-size:cover;height:300px;left:0;position:fixed;right:0;top:70px;z-index:2;}
@media all and (min-width:800px){.hqRkdT{top:0;}}
data-styled.g2[id="ArticleHeader__Wrapper-sc-13d0y20-0"]{content:"hqRkdT,"}
.jviBKF{color:#fafafa;font-size:32px;font-weight:400;max-width:50rem;position:relative;text-shadow:2px 2px 6px #000;width:90vw;z-index:2;}
@media all and (min-width:800px){.jviBKF{font-size:48px;margin-left:60px;padding:0 1rem;}}
data-styled.g3[id="ArticleHeader__Title-sc-13d0y20-1"]{content:"jviBKF,"}
.jXknIo{background:#404041 url("/images/Pattern1.png") repeat;bottom:0;left:0;opacity:0.5;position:absolute;right:0;top:0;z-index:1;}
data-styled.g4[id="ArticleHeader__Overlay-sc-13d0y20-2"]{content:"jXknIo,"}
.fyfowu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
@media all and (min-width:800px){.fyfowu{display:block;margin:0 0 0 12px;position:absolute;top:20px;width:205px;}}
@media all and (max-width:799px){.fyfowu svg{height:55px;}}
.fyfowu path{fill:#8cc63e;}
.fyfowu text{display:inline-block;fill:#e9edee;font-family:vezuslight,sans-serif,sans;font-size:2rem;}
@media all and (min-width:800px){.fyfowu text{font-size:2.25rem;}}
data-styled.g5[id="Navbar__Logo-djt26d-0"]{content:"fyfowu,"}
.kPXToL{background:none;border:none;box-shadow:none;color:#cacaca;float:right;font-size:1.5rem;padding:0;-webkit-transform:translate(5px,70%);-ms-transform:translate(5px,70%);transform:translate(5px,70%);}
@media all and (min-width:800px){.kPXToL{display:none;}}
data-styled.g6[id="Navbar__BtnMenu-djt26d-1"]{content:"kPXToL,"}
.fdRXRq{background-color:#404041;box-shadow:2px 0 4px #2f2f37;overflow:hidden;padding:0.5rem 1rem;position:fixed;-webkit-transition:width 0.2s ease 0s;transition:width 0.2s ease 0s;z-index:9;left:0;top:0;right:0;}
@media all and (min-width:800px){.fdRXRq{bottom:0;box-shadow:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;padding:0;right:auto;top:0;width:60px;}.fdRXRq:hover{width:230px;-webkit-transition:width 0.3s;transition:width 0.3s;}.fdRXRq:hover a{color:#e9edee;-webkit-transition:color 0.3s;transition:color 0.3s;}}
data-styled.g7[id="Navbar__Nav-djt26d-2"]{content:"fdRXRq,"}
.goGzKx{list-style-type:none;margin:0 0 0 -0.5rem;padding:0;display:none;}
@media all and (min-width:800px){.goGzKx{display:block;margin:50px 0;}}
.goGzKx > li{border:1px solid transparent;}
.goGzKx > li > a{color:#cacaca;display:block;line-height:4em;padding-left:0;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;white-space:nowrap;}
@media all and (min-width:800px){.goGzKx > li > a{padding-left:10px;}}
.goGzKx > li > a > i{font-size:1.7em;vertical-align:middle;display:inline-block;width:50px;}
.goGzKx > li a.active,.goGzKx > li a.active:hover{color:#8cc63e;}
.goGzKx > li:hover{background-color:#404041;color:#cacaca;-webkit-transition:box-shadow 0.4s,background-color 0.4s;transition:box-shadow 0.4s,background-color 0.4s;}
@media all and (min-width:800px){.goGzKx > li:hover{border-bottom:solid 1px #989ba4;border-top:solid 1px #989ba4;box-shadow:0 0 4px #606060;}}
data-styled.g8[id="Navbar__Links-djt26d-3"]{content:"goGzKx,"}
.ihJeNY{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#e9edee;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2) inset;color:#989ba4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:40px 1rem;position:relative;z-index:10;}
@media all and (min-width:800px){.ihJeNY{height:150px;}}
.ihJeNY .license{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 auto;padding:0;text-align:center;}
@media all and (min-width:800px){.ihJeNY .license{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:0.85em;padding-left:60px;text-align:left;}}
data-styled.g9[id="Footer__Wrapper-sc-8vmaik-0"]{content:"ihJeNY,"}
.bTmRDJ{margin:0 auto 20px;}
@media all and (min-width:800px){.bTmRDJ{margin:0 10px 0 0;}}
.bTmRDJ img{border:none;display:block;}
data-styled.g10[id="Footer__LicenseLink-sc-8vmaik-1"]{content:"bTmRDJ,"}
.gZYBjr{min-height:100vh;min-height:calc(100vh - 150px);padding-left:60px;padding-bottom:2rem;}
@media all and (max-width:799px){.gZYBjr{padding-top:70px;padding-top:calc(70px + 1rem);padding-left:0;}}
data-styled.g11[id="Layout__Main-sc-1l6nbaj-0"]{content:"gZYBjr,"}
.iCRdPF{background:#f2f2f2;padding:2rem 0 4rem;position:relative;z-index:5;margin-top:300px;}
@media all and (min-width:800px){.iCRdPF{padding:4rem 1rem;}}
.iCRdPF h2,.iCRdPF h3,.iCRdPF h4,.iCRdPF h5{margin:1.5em 0 0.5em;}
.iCRdPF .image-center{display:block;margin:20px auto;}
.iCRdPF ol{list-style:decimal;}
.iCRdPF ul{list-style:square;}
.iCRdPF ol,.iCRdPF ul{margin:10px 0;padding-left:2rem;}
.iCRdPF p{margin:10px 0;}
.iCRdPF strong{font-weight:700;}
.iCRdPF em{font-style:italic;}
.iCRdPF code{font-family:monospace;font-size:16px;}
@media all and (min-width:800px){.iCRdPF code{font-size:14px;}}
.iCRdPF blockquote{background-color:#fafafa;border-radius:2px;box-shadow:2px 0 16px -4px rgba(128,128,128,0.2);color:#606060;margin:40px 0;padding:40px 40px 40px 60px;position:relative;z-index:1;}
.iCRdPF blockquote::before{background:#2aabe4;content:" ";display:block;left:10px;height:32px;-webkit-mask:url("/images/quote.svg");mask:url("/images/quote.svg");position:absolute;top:10px;-webkit-transform:scale(-1);-ms-transform:scale(-1);transform:scale(-1);width:32px;z-index:2;}
.iCRdPF blockquote::after{background:#2aabe4;bottom:10px;content:" ";height:32px;-webkit-mask:url("/images/quote.svg");mask:url("/images/quote.svg");position:absolute;right:10px;width:32px;z-index:2;}
.iCRdPF hr{border:none;background-color:#cacaca;height:1px;margin:1rem 0;}
.iCRdPF table.table{border-collapse:collapse;font-size:0.9rem;width:100%;}
.iCRdPF table.table th{font-weight:bold;padding:12px 10px;}
.iCRdPF table.table td{padding:6px 10px;}
.iCRdPF .table-bordered{border-radius:2px;box-shadow:1px 2px 16px -4px #cacaca;overflow:hidden;}
.iCRdPF .table-striped th{background-color:#e9edee;text-align:left;}
.iCRdPF .table-striped tbody tr:nth-child(odd) td{background-color:#fafafa;}
.iCRdPF .table-hover tbody tr:hover td{background-color:#dff2fb;}
.iCRdPF .text-center,.iCRdPF th.text-center{text-align:center;}
.iCRdPF .text-right,.iCRdPF th.text-right{text-align:right;}
data-styled.g12[id="article__Wrapper-sc-1a9ma3j-0"]{content:"iCRdPF,"}
.bviVYe{color:#989ba4;margin-bottom:2rem;}
@media all and (min-width:800px){.bviVYe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:0.9rem;}}
.bviVYe dl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:10px;text-transform:uppercase;}
@media all and (max-width:799px){.bviVYe dl{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.bviVYe dl dt:nth-child(3n){-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;margin-top:20px;}}
.bviVYe dt{font-weight:600;margin-right:5px;}
.bviVYe dd{margin-right:1em;}
data-styled.g13[id="article__Metadata-sc-1a9ma3j-1"]{content:"bviVYe,"}
.hzTfpF{margin:0 auto;max-width:50rem;width:90vw;}
data-styled.g14[id="article__Content-sc-1a9ma3j-2"]{content:"hzTfpF,"}
@font-face{font-family:"vezuslight";src:url("/fonts/vezus/tour_de_force_-_vezus-light-webfont.eot");src:url("/fonts/vezus/tour_de_force_-_vezus-light-webfont.eot?#iefix") format("embedded-opentype"), url("/fonts/vezus/tour_de_force_-_vezus-light-webfont.woff2") format("woff2"), url("/fonts/vezus/tour_de_force_-_vezus-light-webfont.woff") format("woff"), url("/fonts/vezus/tour_de_force_-_vezus-light-webfont.ttf") format("truetype");font-display:swap;font-style:normal;font-weight:normal;}
@font-face{font-family:"corbertregular";font-style:normal;font-weight:normal;src:url("/fonts/corbert/corbert_regular_regular-webfont.eot?#iefix") format("embedded-opentype"), url("/fonts/corbert/corbert_regular_regular-webfont.woff") format("woff"), url("/fonts/corbert/corbert_regular_regular-webfont.ttf") format("truetype"), url("/fonts/corbert/corbert_regular_regular-webfont.svg#corbertregular") format("svg");}
@font-face{font-family:"Clear Sans Light";src:url("/fonts/clear-sans/ClearSans-Light.eot?12387945");src:url("/fonts/clear-sans/ClearSans-Light.eot?12387945#iefix") format("embedded-opentype"), url("/fonts/clear-sans/ClearSans-Light.woff?12387945") format("woff"), url("/fonts/clear-sans/ClearSans-Light.ttf?12387945") format("truetype"), url("/fonts/clear-sans/ClearSans-Light.svg?12387945#ClearSans-Light") format("svg");font-display:swap;font-weight:normal;font-style:normal;}
@font-face{font-family:"ddpicons";src:url("/fonts/ddpicons/ddpicons.eot?25466695");src:url("/fonts/ddpicons/ddpicons.eot?25466695#iefix") format("embedded-opentype"), url("/fonts/ddpicons/ddpicons.woff?25466695") format("woff"), url("/fonts/ddpicons/ddpicons.ttf?25466695") format("truetype"), url("/fonts/ddpicons/ddpicons.svg?25466695#ddpicons") format("svg");font-display:swap;font-weight:normal;font-style:normal;}
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}
body{line-height:1;}
ol,ul{list-style:none;}
blockquote,q{quotes:none;}
blockquote:before,blockquote:after,q:before,q:after{content:"";content:none;}
table{border-collapse:collapse;border-spacing:0;}
[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"ddpicons";font-style:normal;font-weight:normal;speak:none;display:inline-block;-webkit-text-decoration:inherit;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;}
.icon-users:before{content:"\e801";}
.icon-mail:before{content:"\e802";}
.icon-mail-filled:before{content:"\e803";}
.icon-home:before{content:"\e805";}
.icon-info-circled:before{content:"\e806";}
.icon-angle-down:before{content:"\e807";}
.icon-globe:before{content:"\e808";}
.icon-book:before{content:"\e809";}
.icon-search:before{content:"\e80b";}
.icon-time:before{content:"\e80c";}
.icon-user:before{content:"\e80d";}
.icon-hamburger:before{content:"\e80e";}
.icon-tags:before{content:"\e810";}
.icon-angle-up:before{content:"\e811";}
.icon-tag:before{content:"\e812";}
.icon-cancel:before{content:"\e813";}
.icon-ok:before{content:"\e814";}
.icon-upload:before{content:"\e815";}
.icon-folder:before{content:"\e816";}
.icon-facebook:before{content:"\e817";}
.icon-twitter:before{content:"\e818";}
.icon-data-science:before{content:"\e81a";}
.icon-rocket:before{content:"\e81b";}
.icon-flask:before{content:"\e81c";}
.icon-calendar:before{content:"\e81d";}
*{box-sizing:border-box;}
html{-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}
body{background-color:#f2f2f2;color:#404040;font-family:"Clear Sans Light",sans-serif,sans;font-weight:300;line-height:1.6;}
h1,h2,h3,h4,h5{font-weight:600;font-family:"corbertregular",sans-serif,sans;line-height:1.25;}
h1{font-size:28px;}
h2{font-size:24px;}
@media all and (min-width:800px){h2{font-size:28px;}}
h3{font-size:28px;}
@media all and (min-width:800px){h3{font-size:24px;}}
h4{font-size:18px;}
h5{font-size:16px;}
a{color:#ee0072;}
.btn{background-color:#2aabe4;border-radius:2px;box-shadow:1px 1px 2px rgba(0,0,0,0.2);color:#fff;display:inline-block;font-size:16px;font-weight:300;padding:0.75rem 1.25rem;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;}
@media all and (min-width:800px){.btn{font-size:14px;}}
.btn:hover{background-color:#198ec2;-webkit-transition:background-color 0.5s;transition:background-color 0.5s;}
a.btn,a.btn:link,a.btn:focus,a.btn:visited{color:#fff;}
data-styled.g38[id="sc-global-jXgTCu1"]{content:"sc-global-jXgTCu1,"}
</style><link rel="shortcut icon" type="image/png" href="/favicon.png"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="author" content="Subir Chowdhuri"/><link as="script" rel="preload" href="/app-91ace5ee929837ad1079.js"/><link as="script" rel="preload" href="/component---src-templates-article-js-456bddb3a2647bdd8361.js"/><link as="script" rel="preload" href="/commons-da55af2ad972f5fa6ddb.js"/><link as="script" rel="preload" href="/webpack-runtime-a0e3d07efb2235235945.js"/><link as="fetch" rel="preload" href="/page-data/projects/parallelize-webpack-builds/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="Navbar__Nav-djt26d-2 fdRXRq"><button class="Navbar__BtnMenu-djt26d-1 kPXToL icon icon-hamburger"></button><div class="Navbar__Logo-djt26d-0 fyfowu"><a href="/"><svg viewBox="0 0 304.7 81.162"><g transform="translate(-1.262,-973.124)"><path d="m50.916,1025.2c0-22.739,2.6003-49.859-36.076-50.076,0,0,30.668,1.1835,28.493,29.426,0,0,8.1146-3.4063-16.168-3.4063-23.42,0-23.903,0.8631-23.903,24.056,0,23.627,0.45143,24.056,23.29,24.056,24.572,0,24.363-0.7653,24.363-24.056z"></path><text y="1040.3662" x="70.750862">Desdevpro</text></g></svg></a></div><ul itemProp="breadcrumb" itemscope="" itemType="http://schema.org/BreadcrumbList" class="Navbar__Links-djt26d-3 goGzKx"><li itemProp="itemListElement" itemscope="" itemType="http://schema.org/ListItem"><a href="/"><i class="icon icon-home"></i><span itemProp="name">Home</span></a></li><li itemProp="itemListElement" itemscope="" itemType="http://schema.org/ListItem"><a itemProp="item" class="active" href="/projects"><i class="icon icon-flask"></i><span itemProp="name">Projects</span></a></li><li itemProp="itemListElement" itemscope="" itemType="http://schema.org/ListItem"><a itemProp="item" href="/blog"><i class="icon icon-book"></i><span itemProp="name">Articles</span></a></li><li itemProp="itemListElement" itemscope="" itemType="http://schema.org/ListItem"><a itemProp="item" href="/about"><i class="icon icon-info-circled"></i><span itemProp="name">About</span></a></li></ul></nav><main class="Layout__Main-sc-1l6nbaj-0 gZYBjr"><header class="ArticleHeader__Wrapper-sc-13d0y20-0 hqRkdT"><h1 class="ArticleHeader__Title-sc-13d0y20-1 jviBKF">Parallelize Webpack Builds</h1><div class="ArticleHeader__Overlay-sc-13d0y20-2 jXknIo"></div></header><article class="article__Wrapper-sc-1a9ma3j-0 iCRdPF"><div class="article__Content-sc-1a9ma3j-2 hzTfpF"><section class="article__Metadata-sc-1a9ma3j-1 bviVYe"><dl><dt><i class="icon icon-calendar"></i>Published:</dt><dd>Sep 17, 2017</dd></dl></section><p>The webpack build in one of my larger projects takes over 5 minutes to complete. I found an easy way to cut the build-time: running multiple builds in parallel!</p><p><strong>Disclaimer:</strong> This works because my webpack config has several independent entry points. My webpack config looks like this:</p><pre class="grvsc-container monokai" data-language="js" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> webpack </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;webpack&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> glob </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;glob&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> INIT_DIR </span><span class="mtk7">=</span><span class="mtk1"> path.</span><span class="mtk5">join</span><span class="mtk1">(__dirname, </span><span class="mtk6">&quot;src&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;init&quot;</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> OUT_DIR </span><span class="mtk7">=</span><span class="mtk1"> path.</span><span class="mtk5">join</span><span class="mtk1">(__dirname, </span><span class="mtk6">&quot;dist&quot;</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> entryPoints </span><span class="mtk7">=</span><span class="mtk1"> glob.</span><span class="mtk5">sync</span><span class="mtk1">(path.</span><span class="mtk5">join</span><span class="mtk1">(INIT_DIR, </span><span class="mtk6">&quot;*.js&quot;</span><span class="mtk1">))</span></span>
<span class="grvsc-line"><span class="mtk1">  .</span><span class="mtk5">reduce</span><span class="mtk1">((</span><span class="mtk10 mtki">obj</span><span class="mtk1">, </span><span class="mtk10 mtki">filePath</span><span class="mtk1">) </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">const</span><span class="mtk1"> pieces </span><span class="mtk7">=</span><span class="mtk1"> path.</span><span class="mtk5">parse</span><span class="mtk1">(filePath);</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">return</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">...</span><span class="mtk1">obj,</span></span>
<span class="grvsc-line"><span class="mtk1">      [pieces.name]: path.</span><span class="mtk5">join</span><span class="mtk1">(INIT_DIR, pieces.name)</span></span>
<span class="grvsc-line"><span class="mtk1">    };</span></span>
<span class="grvsc-line"><span class="mtk1">  }, {});</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk7">export</span><span class="mtk1"> </span><span class="mtk7">default</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  entry: entryPoints,</span></span>
<span class="grvsc-line"><span class="mtk1">  output: {</span></span>
<span class="grvsc-line"><span class="mtk1">    path : OUT_DIR,</span></span>
<span class="grvsc-line"><span class="mtk1">    filename: </span><span class="mtk6">&quot;[name].min.js&quot;</span></span>
<span class="grvsc-line"><span class="mtk1">  }</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre><p>The top-level JS entry points are contained in the folder <strong>src/init</strong>:</p><pre class="grvsc-container monokai" data-language="" data-index="1"><code class="grvsc-code"><span class="grvsc-line">src/</span>
<span class="grvsc-line">└── init/</span>
<span class="grvsc-line">  ├── entry1.js</span>
<span class="grvsc-line">  ├── entry2.js</span>
<span class="grvsc-line">  └── entry3.js</span></code></pre><p>The <strong>entryPoints</strong> object would be:</p><pre class="grvsc-container monokai" data-language="js" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">{</span></span>
<span class="grvsc-line"><span class="mtk1">  entry1: </span><span class="mtk6">&quot;src/init/entry1.js&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  entry2: </span><span class="mtk6">&quot;src/init/entry2.js&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  entry3: </span><span class="mtk6">&quot;src/init/entry3.js&quot;</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre><p>Webpack generates a bundle out of each of these files and dumps them into the  <strong>dist</strong> folder, appending <strong>min.js</strong> to each bundle name.</p><pre class="grvsc-container monokai" data-language="" data-index="3"><code class="grvsc-code"><span class="grvsc-line">src/</span>
<span class="grvsc-line">├── init/</span>
<span class="grvsc-line">│   ├── entry1.js</span>
<span class="grvsc-line">│   ├── entry2.js</span>
<span class="grvsc-line">│   └── entry3.js</span>
<span class="grvsc-line">dist/</span>
<span class="grvsc-line">    ├── entry1.min.js</span>
<span class="grvsc-line">    ├── entry2.min.js</span>
<span class="grvsc-line">    └── entry3.min.js</span></code></pre><h2 id="the-secret-sauce">The secret sauce</h2><p>Instead of each bundle making the others wait for it to finish compiling, I split up the workload and fire off multiple webpack processes in parallel. I set the number of splits to 4. Increasing it further didn&#x27;t appear to improve build times much.</p><pre class="grvsc-container monokai" data-language="js" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> chalk </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;chalk&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> path </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;path&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> getopt </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;node-getopt&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> { exec } </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;child_process&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> webpack </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;webpack&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk7">import</span><span class="mtk1"> config </span><span class="mtk7">from</span><span class="mtk1"> </span><span class="mtk6">&quot;./webpack.config.prod&quot;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> args </span><span class="mtk7">=</span><span class="mtk1"> getopt.</span><span class="mtk5">create</span><span class="mtk1">([</span></span>
<span class="grvsc-line"><span class="mtk1">    [ </span><span class="mtk6">&quot;&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;procid=ARG&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;Proc ID for parallel builds&quot;</span><span class="mtk1"> ],</span></span>
<span class="grvsc-line"><span class="mtk1">    [ </span><span class="mtk6">&quot;&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;help&quot;</span><span class="mtk1">,  </span><span class="mtk6">&quot;display this help&quot;</span><span class="mtk1"> ]</span></span>
<span class="grvsc-line"><span class="mtk1">  ])</span></span>
<span class="grvsc-line"><span class="mtk1">  .</span><span class="mtk5">bindHelp</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk1">  .</span><span class="mtk5">parseSystem</span><span class="mtk1">();</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk9 mtki">let</span><span class="mtk1"> procid </span><span class="mtk7">=</span><span class="mtk1"> args.options.procid;</span></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> MAX_PROC </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk4">4</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> entryPoints </span><span class="mtk7">=</span><span class="mtk1"> config.entry;</span></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> bundleNames </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk9 mtki">Object</span><span class="mtk1">.</span><span class="mtk5">keys</span><span class="mtk1">(entryPoints);</span></span>
<span class="grvsc-line"><span class="mtk9 mtki">const</span><span class="mtk1"> QUEUE_SIZE </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk9">Math</span><span class="mtk1">.</span><span class="mtk9">ceil</span><span class="mtk1">(bundleNames.length </span><span class="mtk7">/</span><span class="mtk1"> MAX_PROC);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk7">if</span><span class="mtk1">(</span><span class="mtk7">!</span><span class="mtk1">procid </span><span class="mtk7">||</span><span class="mtk1"> </span><span class="mtk9">isNaN</span><span class="mtk1">(</span><span class="mtk9">parseInt</span><span class="mtk1">(procid))) {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">cyan</span><span class="mtk1">(</span><span class="mtk6">&quot;Starting parallel webpack build ...&quot;</span><span class="mtk1">));</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk9 mtki">let</span><span class="mtk1"> children </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk4">0</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk7">for</span><span class="mtk1">(</span><span class="mtk9 mtki">let</span><span class="mtk1"> i</span><span class="mtk7">=</span><span class="mtk4">0</span><span class="mtk1">; i</span><span class="mtk7">&lt;</span><span class="mtk1">bundleNames.length; i</span><span class="mtk7">+=</span><span class="mtk1">QUEUE_SIZE) {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">const</span><span class="mtk1"> cmd </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk6">`node_modules/.bin/babel-node build.js --procid=</span><span class="mtk7">${</span><span class="mtk1">i</span><span class="mtk7">}</span><span class="mtk6">`</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">const</span><span class="mtk1"> child </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk5">exec</span><span class="mtk1">(cmd, (</span><span class="mtk10 mtki">error</span><span class="mtk1">, </span><span class="mtk10 mtki">stdout</span><span class="mtk1">, </span><span class="mtk10 mtki">stderr</span><span class="mtk1">) </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">if</span><span class="mtk1"> (error) {</span></span>
<span class="grvsc-line"><span class="mtk1">        </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">error</span><span class="mtk1">(</span><span class="mtk6">`</span><span class="mtk7">${</span><span class="mtk1">error</span><span class="mtk7">}</span><span class="mtk6">`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">        </span><span class="mtk7">return</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">      }</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(</span><span class="mtk6">`</span><span class="mtk7">${</span><span class="mtk1">stdout</span><span class="mtk7">}</span><span class="mtk6">`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(</span><span class="mtk6">`</span><span class="mtk7">${</span><span class="mtk1">stderr</span><span class="mtk7">}</span><span class="mtk6">`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">    });</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">++</span><span class="mtk1">children;</span></span>
<span class="grvsc-line"><span class="mtk1">    child.</span><span class="mtk5">on</span><span class="mtk1">(</span><span class="mtk6">&quot;close&quot;</span><span class="mtk1">, () </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">--</span><span class="mtk1">children;</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">if</span><span class="mtk1">(children</span><span class="mtk7">==</span><span class="mtk4">0</span><span class="mtk1">) {</span></span>
<span class="grvsc-line"><span class="mtk1">        </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">cyan</span><span class="mtk1">(</span><span class="mtk6">&quot;All builds completed&quot;</span><span class="mtk1">));</span></span>
<span class="grvsc-line"><span class="mtk1">        </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">green</span><span class="mtk1">(</span><span class="mtk6">&quot;Static file bundles generated&quot;</span><span class="mtk1">));</span></span>
<span class="grvsc-line"><span class="mtk1">      }</span></span>
<span class="grvsc-line"><span class="mtk1">    });</span></span>
<span class="grvsc-line"><span class="mtk1">  }</span></span>
<span class="grvsc-line"><span class="mtk1">} </span><span class="mtk7">else</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  procid </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk9">parseInt</span><span class="mtk1">(procid);</span></span>
<span class="grvsc-line"><span class="mtk1">  config.entry </span><span class="mtk7">=</span><span class="mtk1"> bundleNames.</span><span class="mtk5">slice</span><span class="mtk1">(procid, procid </span><span class="mtk7">+</span><span class="mtk1"> QUEUE_SIZE).</span><span class="mtk5">reduce</span><span class="mtk1">((</span><span class="mtk10 mtki">acc</span><span class="mtk1">, </span><span class="mtk10 mtki">cur</span><span class="mtk1">) </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">return</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">...</span><span class="mtk1">acc,</span></span>
<span class="grvsc-line"><span class="mtk1">      [cur]: config.entry[cur]</span></span>
<span class="grvsc-line"><span class="mtk1">    };</span></span>
<span class="grvsc-line"><span class="mtk1">  }, {})</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk5">webpack</span><span class="mtk1">(config).</span><span class="mtk5">run</span><span class="mtk1">((</span><span class="mtk10 mtki">error</span><span class="mtk1">, </span><span class="mtk10 mtki">stats</span><span class="mtk1">) </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1">(error) {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">error</span><span class="mtk1">(chalk.</span><span class="mtk5">red</span><span class="mtk1">(error));</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">return</span><span class="mtk1"> </span><span class="mtk4">1</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">    }</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">const</span><span class="mtk1"> jsonStats </span><span class="mtk7">=</span><span class="mtk1"> stats.</span><span class="mtk5">toJson</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">const</span><span class="mtk1"> stringStats </span><span class="mtk7">=</span><span class="mtk1"> stats.</span><span class="mtk5">toString</span><span class="mtk1">(config.stats);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> (jsonStats.hasErrors) {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk7">return</span><span class="mtk1"> jsonStats.errors.</span><span class="mtk5">map</span><span class="mtk1">(</span><span class="mtk10 mtki">error</span><span class="mtk1"> </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">red</span><span class="mtk1">(error)));</span></span>
<span class="grvsc-line"><span class="mtk1">    }</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> (jsonStats.hasWarnings) {</span></span>
<span class="grvsc-line"><span class="mtk1">      </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">yellow</span><span class="mtk1">(</span><span class="mtk6">&quot;Webpack generated the following warnings: &quot;</span><span class="mtk1">));</span></span>
<span class="grvsc-line"><span class="mtk1">      jsonStats.warnings.</span><span class="mtk5">map</span><span class="mtk1">(</span><span class="mtk10 mtki">warning</span><span class="mtk1"> </span><span class="mtk9 mtki">=&gt;</span><span class="mtk1"> </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(chalk.</span><span class="mtk5">yellow</span><span class="mtk1">(warning)));</span></span>
<span class="grvsc-line"><span class="mtk1">    }</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk9 mtki">console</span><span class="mtk1">.</span><span class="mtk9">log</span><span class="mtk1">(stringStats);</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre><p>Please note that my npm script and the webpack config use ES6. They will need <strong>babel_node</strong> to run:</p><pre class="grvsc-container monokai" data-language="js" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">{</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk6">&quot;presets&quot;</span><span class="mtk1">: [ </span><span class="mtk6">&quot;env&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;stage-1&quot;</span><span class="mtk1"> ]</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre><h3 id="results">Results</h3><p>My build time came down from <strong>5m 2.364s</strong> to <strong>2m 13.105s</strong>.</p><p>Nearly 50% improvement is pretty impressive for a 10 minute hack, eh?</p><style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
  }
  
  .grvsc-code {
    display: inline-block;
    min-width: 100%;
  }
  
  .grvsc-line {
    display: inline-block;
    box-sizing: border-box;
    width: 100%;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-line-highlighted {
    background-color: var(--grvsc-line-highlighted-background-color, transparent);
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);
  }
  
  .monokai {
    background-color: #272822;
    color: #f8f8f2;
  }
  .monokai .mtki { font-style: italic; }
  .monokai .mtk7 { color: #F92672; }
  .monokai .mtk1 { color: #F8F8F2; }
  .monokai .mtk6 { color: #E6DB74; }
  .monokai .mtk9 { color: #66D9EF; }
  .monokai .mtk5 { color: #A6E22E; }
  .monokai .mtk10 { color: #FD971F; }
  .monokai .mtk4 { color: #AE81FF; }
</style></div><div class="article__TableOfContents-sc-1a9ma3j-3 ginXdY"></div></article></main><footer class="Footer__Wrapper-sc-8vmaik-0 ihJeNY"><p class="license"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" class="Footer__LicenseLink-sc-8vmaik-1 bTmRDJ"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" height="31" width="88"/></a><span>Except where otherwise noted, content on this site is licensed under<!-- --> <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span></p></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-57423728-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/projects/parallelize-webpack-builds";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-91ace5ee929837ad1079.js"],"component---src-templates-article-js":["/component---src-templates-article-js-456bddb3a2647bdd8361.js"],"component---src-templates-category-js":["/component---src-templates-category-js-388fd346a7b3e1f4794d.js"],"component---src-pages-about-js":["/component---src-pages-about-js-4162735b9841f818f5dd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-a2cc24dbc434f736907d.js"]};/*]]>*/</script><script src="/webpack-runtime-a0e3d07efb2235235945.js" async=""></script><script src="/commons-da55af2ad972f5fa6ddb.js" async=""></script><script src="/component---src-templates-article-js-456bddb3a2647bdd8361.js" async=""></script><script src="/app-91ace5ee929837ad1079.js" async=""></script></body></html>