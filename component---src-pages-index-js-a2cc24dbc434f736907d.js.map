{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./node_modules/magic-grid/dist/magic-grid.min.js"],"names":["Cover","styled","img","Wrapper","Link","Article","li","colors","cardBg","gray","copySizeMobile","medium","Feed","ul","Tag","label","primary","Title","h1","fontSize","secondary","Summary","p","Misc","div","Date","span","pageQuery","Home","props","useState","cssLayout","setCssLayout","useEffect","MagicGrid","container","animate","gutter","static","useMin","maxColumns","listen","config","title","meta","description","className","data","allMdx","edges","map","node","key","id","frontmatter","coverImage","to","category","path","src","childImageSharp","resize","alt","loading","tags","excerpt","date","module","exports","t","_t","Error","useTransform","e","items","n","HTMLElement","this","containerClass","document","querySelector","children","size","started","init","prototype","ready","style","position","length","transition","colWidth","getBoundingClientRect","width","setup","i","Math","floor","s","height","index","cols","wSpace","nextCol","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","positionItems","o","r","a","h","c","u","transform","top","left","getReady","setInterval","clearInterval","window","addEventListener","setTimeout"],"mappings":"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","file":"component---src-pages-index-js-a2cc24dbc434f736907d.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport MagicGrid from \"magic-grid\";\nimport { Link, graphql } from \"gatsby\";\n\nimport Layout from \"../components/Layout\";\nimport { colors, fontSize, copySizeMobile, medium } from \"../constants/theme\";\n\nfunction Home(props) {\n  const [ cssLayout, setCssLayout ] = useState(true);\n  useEffect(() => {\n    setCssLayout(false);\n    const magicGrid = new MagicGrid({\n      container: \".article-grid\",\n      animate: false,\n      gutter: 20,\n      static: true,\n      useMin: true,\n      maxColumns: 4\n    });\n    magicGrid.listen();\n  }, []);\n  const config = {\n    title: \"Desdevpro | Notes on my experiments with open hardware and software - Subir Chowdhuri\",\n    meta: {\n      description: \"Notes on my experiments in open hardware and software - Subir Chowdhuri\"\n    }\n  };\n  return (\n    <Layout config={config}>\n      <Feed className={`article-grid ${cssLayout ? \"css-layout\" : \"\"}`}>\n        {props.data.allMdx.edges.map(({ node }) => (\n          <Article key={node.id}>\n            {!node.frontmatter.coverImage || (\n              <Cover.Wrapper\n                to={`/${node.frontmatter.category}/${node.frontmatter.path}/`}\n              >\n                <Cover\n                  src={node.frontmatter.coverImage.childImageSharp.resize.src}\n                  alt={node.frontmatter.title}\n                  loading=\"lazy\"\n                />\n              </Cover.Wrapper>\n            )}\n            <Tag>#{node.frontmatter.tags[0]}</Tag>\n            <Title>\n              <Link\n                to={`/${node.frontmatter.category}/${node.frontmatter.path}/`}\n              >\n                {node.frontmatter.title}\n              </Link>\n            </Title>\n            <Summary>{node.excerpt}</Summary>\n            <Misc>\n              <i className=\"icon icon-calendar\" />\n              <Misc.Date>{node.frontmatter.date}</Misc.Date>\n            </Misc>\n          </Article>\n        ))}\n      </Feed>\n    </Layout>\n  );\n}\n\nconst Cover = styled.img`\n  display: block;\n  height: 200px;\n  object-fit: cover;\n  transition: transform 0.5s;\n  width: 100%;\n`;\nCover.Wrapper = styled(Link)`\n  border-radius: 2px 2px 0 0;\n  display: block;\n  height: 200px;\n  overflow: hidden;\n`;\nconst Article = styled.li`\n  background: ${colors.cardBg};\n  border-radius: 2px;\n  box-shadow: 0 1px 8px ${colors.gray[1]};\n  font-size: ${copySizeMobile};\n  padding: 0;\n  width: 90vw;\n\n  @media ${medium} {\n    width: 300px;\n  }\n  &:hover {\n    ${Cover} {\n      transform: scale(1.05);\n    }\n  }\n`;\nconst Feed = styled.ul`\n  list-style-type: none;\n  margin: 2rem 1rem;\n  padding: 0;\n\n  &.css-layout {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    ${Article} {\n      margin: 10px;\n    }\n  }\n`;\nconst Tag = styled.label`\n  color: ${colors.primary};\n  display: block;\n  font-weight: bold;\n  margin-top: 12px;\n  padding-left: 1rem;\n  text-transform: capitalize;\n  @media ${medium} {\n    font-size: 0.85rem;\n    text-transform: uppercase;\n  }\n`;\nconst Title = styled.h1`\n  font-size: ${fontSize[5]};\n  font-weight: 600;\n  margin-top: -1rem;\n  padding: 1rem;\n  position: relative;\n\n  &:after {\n    background: none repeat scroll 0 0 ${colors.primary};\n    bottom: 0;\n    content: \"\";\n    height: 4px;\n    left: 0;\n    position: absolute;\n    width: 90px;\n  }\n  a {\n    color: ${colors.gray[4]};\n    text-decoration: none;\n    transition: color 0.2s;\n    &:hover,\n    &:focus {\n      color: ${colors.secondary};\n    }\n  }\n`;\nconst Summary = styled.p`\n  @media ${medium} {\n    font-size: 0.9rem;\n  }\n  padding: 1rem;\n`;\nconst Misc = styled.div`\n  align-items: center;\n  color: ${colors.gray[3]};\n  display: flex;\n  padding: 1rem;\n`;\nMisc.Date = styled.span`\n  display: block;\n  margin-left: 4px;\n  @media ${medium} {\n    font-size: 0.85rem;\n  }\n`;\n\nexport const pageQuery = graphql`\n  query articleFeed {\n    allMdx(\n      limit: 20\n      sort: {\n        order: DESC,\n        fields: frontmatter___date\n      }\n      filter: {\n        frontmatter: {\n          type: {\n            eq: \"article\"\n          }\n          status: {\n            eq: \"live\"\n          }\n        }\n      }\n    ) {\n      edges {\n        node {\n          id\n          excerpt\n          frontmatter {\n            category\n            coverImage {\n              childImageSharp {\n                resize(width: 300, quality: 95) {\n                  src\n                }\n              }\n            }\n            date(formatString: \"MMM DD, YYYY\")\n            path\n            tags\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default Home;\n","require(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\n!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : t.MagicGrid = e();\n}(this, function () {\n  \"use strict\";\n\n  var t = function t(_t) {\n    if (!_t) throw new Error(\"No config object has been provided.\");\n    \"boolean\" != typeof _t.useTransform && (_t.useTransform = !0), \"number\" != typeof _t.gutter && (_t.gutter = 25), _t.container || e(\"container\"), _t.items || _t[\"static\"] || e(\"items or static\");\n  },\n      e = function e(t) {\n    throw new Error(\"Missing property '\" + t + \"' in MagicGrid config\");\n  },\n      i = function i(t) {\n    var e = t[0];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var i = _step.value;\n        i.height < e.height && (e = i);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return e;\n  },\n      n = function n(e) {\n    t(e), e.container instanceof HTMLElement ? (this.container = e.container, this.containerClass = e.container.className) : (this.containerClass = e.container, this.container = document.querySelector(e.container)), this.items = this.container.children, this[\"static\"] = e[\"static\"] || !1, this.size = e.items, this.gutter = e.gutter, this.maxColumns = e.maxColumns || !1, this.useMin = e.useMin || !1, this.useTransform = e.useTransform, this.animate = e.animate || !1, this.started = !1, this.init();\n  };\n\n  return n.prototype.init = function () {\n    if (this.ready() && !this.started) {\n      this.container.style.position = \"relative\";\n\n      for (var t = 0; t < this.items.length; t++) {\n        var e = this.items[t].style;\n        e.position = \"absolute\", this.animate && (e.transition = (this.useTransform ? \"transform\" : \"top, left\") + \" 0.2s ease\");\n      }\n\n      this.started = !0;\n    }\n  }, n.prototype.colWidth = function () {\n    return this.items[0].getBoundingClientRect().width + this.gutter;\n  }, n.prototype.setup = function () {\n    var t = this.container.getBoundingClientRect().width,\n        e = this.colWidth(),\n        i = Math.floor(t / e) || 1,\n        n = [];\n    this.maxColumns && i > this.maxColumns && (i = this.maxColumns);\n\n    for (var s = 0; s < i; s++) {\n      n[s] = {\n        height: 0,\n        index: s\n      };\n    }\n\n    return {\n      cols: n,\n      wSpace: t - i * e + this.gutter\n    };\n  }, n.prototype.nextCol = function (t, e) {\n    return this.useMin ? i(t) : t[e % t.length];\n  }, n.prototype.positionItems = function () {\n    var t = this.setup(),\n        e = t.cols,\n        i = t.wSpace,\n        n = 0,\n        s = this.colWidth();\n    i = Math.floor(i / 2);\n\n    for (var o = 0; o < this.items.length; o++) {\n      var r = this.nextCol(e, o),\n          a = this.items[o],\n          h = r.height ? this.gutter : 0,\n          c = r.index * s + i + \"px\",\n          u = r.height + h + \"px\";\n      this.useTransform ? a.style.transform = \"translate(\" + c + \", \" + u + \")\" : (a.style.top = u, a.style.left = c), r.height += a.getBoundingClientRect().height + h, r.height > n && (n = r.height);\n    }\n\n    this.container.style.height = n + \"px\";\n  }, n.prototype.ready = function () {\n    return !!this[\"static\"] || this.items.length >= this.size;\n  }, n.prototype.getReady = function () {\n    var t = this,\n        e = setInterval(function () {\n      t.container = document.querySelector(t.containerClass), t.items = t.container.children, t.ready() && (clearInterval(e), t.init(), t.listen());\n    }, 100);\n  }, n.prototype.listen = function () {\n    var t = this;\n\n    if (this.ready()) {\n      var e;\n      window.addEventListener(\"resize\", function () {\n        e || (e = setTimeout(function () {\n          t.positionItems(), e = null;\n        }, 200));\n      }), this.positionItems();\n    } else this.getReady();\n  }, n;\n});"],"sourceRoot":""}